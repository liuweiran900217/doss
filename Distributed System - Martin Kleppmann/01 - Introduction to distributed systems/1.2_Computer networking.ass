[Script Info]
; Script generated by Aegisub 3.2.2
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: TV.601
PlayResX: 1280
PlayResY: 720

[Aegisub Project Garbage]
Last Style Storage: Default
Audio File: 1.2_ Computer networking.mp4
Video File: 1.2_ Computer networking.mp4
Video AR Mode: 4
Video AR Value: 1.777778
Video Zoom Percent: 0.500000
Scroll Position: 150
Active Line: 183
Video Position: 19193

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,微软雅黑,35,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,-1,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\pos(639,50)}听译、时间轴：刘巍然（学酥）
Dialogue: 0,0:00:00.00,0:00:01.96,Default,,0,0,0,,本节 我将要简单讨论\NIn this section, I will talk a bit more about
Dialogue: 0,0:00:01.96,0:00:06.04,Default,,0,0,0,,分布式系统与计算机网络之间的关系\Nthe relationship between distributed systems and computer networking.
Dialogue: 0,0:00:06.04,0:00:08.40,Default,,0,0,0,,在分布式系统中 一般来说\NSo, in distributed systems, generally, 
Dialogue: 0,0:00:08.40,0:00:12.60,Default,,0,0,0,,任意一个参与到系统中的计算设备都被称为一个节点\Nany computing device that is involved in the system we call a node.
Dialogue: 0,0:00:12.60,0:00:17.16,Default,,0,0,0,,节点可以是手机、笔记本、数据中心的服务器\NSo, a node could be a phone, or a laptop, or a server in a data center,
Dialogue: 0,0:00:17.16,0:00:19.82,Default,,0,0,0,,也可以是我们前面讲到的其他设备\Nor any of the other things we talked about earlier.
Dialogue: 0,0:00:19.82,0:00:25.40,Default,,0,0,0,,分布式系统的抽象通信模型是\NAnd the fundamental communication abstraction of distributed systems is that
Dialogue: 0,0:00:25.40,0:00:28.66,Default,,0,0,0,,一个节点可以向另一个节点发送消息\None node can send a message to another node.
Dialogue: 0,0:00:28.66,0:00:31.62,Default,,0,0,0,,就这么简单 这就是分布式系统的全部基础了\NThat's it. That's the entire basis of distributed system.
Dialogue: 0,0:00:31.62,0:00:34.26,Default,,0,0,0,,一个节点可以向另一个节点发送消息\NOne node sends a message to another node.
Dialogue: 0,0:00:34.26,0:00:39.70,Default,,0,0,0,,这个抽象模型涵盖了所有可能出现的通信模式\NAnd this captures all of the possible modes of communication that can happen.
Dialogue: 0,0:00:39.70,0:00:43.96,Default,,0,0,0,,当然了 实际中有很多不同类型的网络\NNow, in practice, of course, there are lots of different types of networks
Dialogue: 0,0:00:43.96,0:00:48.00,Default,,0,0,0,,有很多从一个节点向另一个节点发送消息的方法\Nand different ways of getting a message from one node to another.
Dialogue: 0,0:00:48.56,0:00:50.54,Default,,0,0,0,,举例来说\NSo, examples of that would be,
Dialogue: 0,0:00:51.18,0:00:52.60,Default,,0,0,0,,如果你在大学里\Nif you're at the university,
Dialogue: 0,0:00:52.60,0:00:57.94,Default,,0,0,0,,你可能会使用大学提供的Wi-Fi 或者学院提供的Wi-Fi\Nyou will be probably using university provided Wi-Fi or college provided Wi-Fi.
Dialogue: 0,0:00:58.34,0:01:01.08,Default,,0,0,0,,如果你在家 你可能会使用家里的网络连接\NIf you're at home, you probably have a home Internet connection.
Dialogue: 0,0:01:01.50,0:01:05.54,Default,,0,0,0,,如果你坐在咖啡厅 你可能会使用咖啡厅提供的Wi-Fi\NIf you're sitting in a coffee shop, you will probably be using the Wi-Fi there.
Dialogue: 0,0:01:05.54,0:01:07.42,Default,,0,0,0,,如果你出门在外\NIf you're out and about in town,
Dialogue: 0,0:01:07.42,0:01:10.52,Default,,0,0,0,,你可能会使用手机上的蜂窝数据通信网络\Nyou will probably be using some cellular data on your phone.
Dialogue: 0,0:01:10.52,0:01:14.28,Default,,0,0,0,,这些只是你可以直接连接到的网络\NAnd that's only the network that you connect to directly.
Dialogue: 0,0:01:14.28,0:01:19.64,Default,,0,0,0,,在这些网络之上 还有一个构成互联网基础的骨干网络\NOn top of those, there are the backbone networks in that form the Internet.
Dialogue: 0,0:01:19.64,0:01:21.74,Default,,0,0,0,,有很多不同类型的网络\NAnd there are lots of different types of networks
Dialogue: 0,0:01:21.74,0:01:23.88,Default,,0,0,0,,不同类型的网络由各种不同的公司运营\Noperated by all sorts of different companies.
Dialogue: 0,0:01:23.88,0:01:27.74,Default,,0,0,0,,有些网络通过铜导线连接\NSome of those go via copper cables.
Dialogue: 0,0:01:27.74,0:01:29.62,Default,,0,0,0,,有些网络通过光纤连接\NSome of them are fiber optic cables.
Dialogue: 0,0:01:29.62,0:01:32.34,Default,,0,0,0,,有些网络通过海底光缆连接\NSome of them go underneath the sea.
Dialogue: 0,0:01:32.34,0:01:34.74,Default,,0,0,0,,有些网络通过卫星连接 等等等等\NSome of them go by a satellite, and so on.
Dialogue: 0,0:01:34.74,0:01:37.96,Default,,0,0,0,,有很多A向B发送消息的方法\NAll sorts of ways of getting messages from A to B.
Dialogue: 0,0:01:37.96,0:01:41.04,Default,,0,0,0,,进一步 也有很多不同的物理通信机制\NIn addition, they're all sorts of physical communication mechanisms
Dialogue: 0,0:01:41.04,0:01:48.88,Default,,0,0,0,,包括导线上的电子脉冲、无线电波、光纤电缆中的激光\Nsuch as electrical pulses on a wire, radio waves, or lasers going down fiber optic cables,
Dialogue: 0,0:01:48.88,0:01:51.12,Default,,0,0,0,,甚至可以是货车里的硬盘驱动器\Nor even hard drives in a van.
Dialogue: 0,0:01:51.12,0:01:54.60,Default,,0,0,0,,什么？货车里的硬盘驱动器？这根本不是网络连接！\NWhat? Hard drives in a van? That's not a network connection!
Dialogue: 0,0:01:54.60,0:01:59.74,Default,,0,0,0,,我认为这也是A向B发送消息的一种机制\NWell, I will argue this is also a mechanism from getting messages from A to B.
Dialogue: 0,0:01:59.74,0:02:03.76,Default,,0,0,0,,如果你持有海量的数据\NSo, if what you have is a very large amount of data
Dialogue: 0,0:02:03.76,0:02:06.18,Default,,0,0,0,,你想把这些数据发送给其他人\Nthat you want to send to somebody else,
Dialogue: 0,0:02:06.18,0:02:09.12,Default,,0,0,0,,例如将数据发送给另一个数据中心\Nmaybe to transfer it to a different data center,
Dialogue: 0,0:02:09.12,0:02:14.04,Default,,0,0,0,,直接通过互联网发送数据会非常慢、成本也非常高\Nthen actually sending all of that data over the Internet can be kind of slow and expensive.
Dialogue: 0,0:02:14.04,0:02:19.44,Default,,0,0,0,,更可行的方法是 将所有的数据载入到一堆硬盘驱动器里\NAnd it can actually make more sense to load all of the data onto a bunch of hard drives,
Dialogue: 0,0:02:19.44,0:02:22.16,Default,,0,0,0,,把硬盘驱动器盒子搬到货车上\Nload the box of hard drives into a van,
Dialogue: 0,0:02:22.16,0:02:24.18,Default,,0,0,0,,开着货车到达目的地\Ndrive the van to the destination,
Dialogue: 0,0:02:24.18,0:02:26.18,Default,,0,0,0,,当货车到达目的地后\Nand when it gets to the destination,
Dialogue: 0,0:02:26.18,0:02:29.58,Default,,0,0,0,,你可以把硬盘驱动器中的所有数据下载下来\Nyou can then download all of the data back off the hard drives,
Dialogue: 0,0:02:30.10,0:02:33.18,Default,,0,0,0,,把数据存储在需要存储的任意系统中\Nand store them in whatever system they need to be stored in.
Dialogue: 0,0:02:33.18,0:02:35.96,Default,,0,0,0,,人们实际中确实会使用这种通信机制\NAnd people do this in practice actually.
Dialogue: 0,0:02:35.96,0:02:41.94,Default,,0,0,0,,以亚马逊网络服务为例 这是一个大型数据中心服务的提供商\NAnd amazon web services, for example, which is a big provider of data center services,
Dialogue: 0,0:02:41.94,0:02:43.36,Default,,0,0,0,,他们就提供了这样的服务\Nthey actually have this service,
Dialogue: 0,0:02:43.36,0:02:45.88,Default,,0,0,0,,你可以从他们手里租赁一个硬盘驱动器盒子\Nwhere you can rent a box of hard drives from them,
Dialogue: 0,0:02:45.88,0:02:48.48,Default,,0,0,0,,他们就会派一个员工把盒子发送给你\Nand it will come in a career service.
Dialogue: 0,0:02:48.48,0:02:50.92,Default,,0,0,0,,你可以把你所有的数据传到盒子里\NAnd you can load all of your data onto it.
Dialogue: 0,0:02:50.92,0:02:55.20,Default,,0,0,0,,每个盒子大约可以存储50TB的数据\NIt takes about 50 terabytes or so on one of these boxes,
Dialogue: 0,0:02:55.20,0:02:57.12,Default,,0,0,0,,这样就可以发送数据了\Nand send it back.
Dialogue: 0,0:02:57.12,0:03:00.40,Default,,0,0,0,,当然了 这是一个非常慢的网络通信机制\NAnd so, of course, this is a very slow form of networking,
Dialogue: 0,0:03:00.40,0:03:04.40,Default,,0,0,0,,因为可能需要花费一天或者数天的时间 数据才能到达目的地\Nbecause it might take a day or a couple of days for the data to arrive.
Dialogue: 0,0:03:04.40,0:03:08.10,Default,,0,0,0,,但这也是一个超高带宽的网络通信机制\NBut it is also quite a high bandwidth form of networking,
Dialogue: 0,0:03:08.10,0:03:11.38,Default,,0,0,0,,也就是说 你可以用这个机制传输海量的数据\Nthat is, you can transfer large quantities of data.
Dialogue: 0,0:03:11.38,0:03:14.30,Default,,0,0,0,,我认为 站在分布式系统的角度看\NAnd I would argue that from a distributed systems point of view,
Dialogue: 0,0:03:14.30,0:03:16.32,Default,,0,0,0,,这也是一种消息通信信道\Nthis is just another messaging channel.
Dialogue: 0,0:03:16.32,0:03:19.20,Default,,0,0,0,,这是另一种从A向B发送消息的方法\NIt's another way of getting a message from A to B.
Dialogue: 0,0:03:19.20,0:03:24.88,Default,,0,0,0,,不同网络信道的区别在于信道的延迟和带宽不同\NDistinction is just the latency and the bandwidth of those different networking channels.
Dialogue: 0,0:03:24.88,0:03:30.32,Default,,0,0,0,,不同网络的延迟差异巨大\NSo, latency varies hugely depending on what sort of network you're looking at.
Dialogue: 0,0:03:31.04,0:03:33.94,Default,,0,0,0,,举例来说 家中设备所使用的Wi-Fi\NWithin the devices on your home, Wi-Fi, for example,
Dialogue: 0,0:03:33.94,0:03:37.20,Default,,0,0,0,,或者相同数据中心内的服务器网络\Nor within servers in the same data center,
Dialogue: 0,0:03:37.20,0:03:40.80,Default,,0,0,0,,其网络时延大约为1ms 甚至可能小于1ms\Nyou probably get like 1ms maybe less than 1ms
Dialogue: 0,0:03:40.80,0:03:43.42,Default,,0,0,0,,具体延迟取决于网络的拥挤和拥塞程度\Ndepending on how congested the network is.
Dialogue: 0,0:03:44.28,0:03:49.24,Default,,0,0,0,,顺带一提 延迟指的是一个设备向另一个设备通信时所需的时间\NLatency, that is the time that it takes to communicate from one device to another.
Dialogue: 0,0:03:49.58,0:03:51.44,Default,,0,0,0,,如果我们把实现转至互联网\NIf you're going over the Internet,
Dialogue: 0,0:03:51.44,0:03:55.28,Default,,0,0,0,,你希望与另一个大洲上的某个服务器通信\Nand you're talking to a server that is located on a different continent,
Dialogue: 0,0:03:55.28,0:03:58.98,Default,,0,0,0,,则延迟的量级大约为100毫秒\Nthen it's probably more like on the order of 100ms.
Dialogue: 0,0:03:58.98,0:04:02.60,Default,,0,0,0,,当然了 货车硬盘驱动器的延迟大约为一天或者数天\NOf course, hard drives in a van will probably take a day or a couple of days.
Dialogue: 0,0:04:02.90,0:04:05.76,Default,,0,0,0,,再次强调 这也属于一种网络信道\NBut still, it's just another networking channel.
Dialogue: 0,0:04:05.76,0:04:09.38,Default,,0,0,0,,带宽差异也是巨大的\NIn terms of bandwidth, this varies hugely,
Dialogue: 0,0:04:09.38,0:04:15.86,Default,,0,0,0,,如果信号比较好 手机3G网络带宽大约为1Mbit/s\NLike a 3G phone might have like 1Mbit/s if you've got a good signal.
Dialogue: 0,0:04:15.86,0:04:19.66,Default,,0,0,0,,如果信号不好 带宽大约为100Kbit/s\NIt might be more like 100Kbit/s if you've got a poor signal.
Dialogue: 0,0:04:20.58,0:04:23.30,Default,,0,0,0,,家用频段的带宽大约为10Mbit/s\NHome broadband might be like 10Mbit/s.
Dialogue: 0,0:04:23.30,0:04:27.46,Default,,0,0,0,,当然了 具体带宽数值和你与最临近网络提供商的距离相关\NOf course, it varies very much how close you are to the next provider,
Dialogue: 0,0:04:27.98,0:04:29.96,Default,,0,0,0,,也和是否使用光纤等因素相关\Nwhether you have fiber and so on.
Dialogue: 0,0:04:31.04,0:04:34.08,Default,,0,0,0,,我们可以大概估计出货车硬盘驱动器的带宽\NRoughly estimating the bandwidth of hard drives in a van.
Dialogue: 0,0:04:34.08,0:04:36.08,Default,,0,0,0,,如果货车只运送一个硬盘驱动器盒子\NWell, if you take one of these boxes,
Dialogue: 0,0:04:36.08,0:04:40.22,Default,,0,0,0,,则总时间约为数天 总时间包括：将所有数据载入到硬盘驱动器\Nand it takes a couple of days to do the whole loading data onto it,
Dialogue: 0,0:04:40.22,0:04:41.46,Default,,0,0,0,,把驱动器运送到另一个地点\Ngetting it to the other place,
Dialogue: 0,0:04:41.46,0:04:43.36,Default,,0,0,0,,再把数据读取出来\Ngetting the data back off it again,
Dialogue: 0,0:04:43.36,0:04:44.90,Default,,0,0,0,,你可以得出一个大概的估计值\Nyou can probably estimate it
Dialogue: 0,0:04:44.90,0:04:50.08,Default,,0,0,0,,如果你只使用一个盒子 则总带宽约为1Gbit/s\Nat roughly being 1Gbit/s or something like that if you use one box.
Dialogue: 0,0:04:50.08,0:04:54.00,Default,,0,0,0,,当然 货车可以运送多个盒子 从而进一步提高带宽\NOf course, you can send multiple boxes, in which case you can increase that number.
Dialogue: 0,0:04:54.00,0:04:55.64,Default,,0,0,0,,这是一个非常粗略的估计值\NThose are just very rough numbers,
Dialogue: 0,0:04:55.64,0:04:57.44,Default,,0,0,0,,只是为了向大家感受一下\Nbut just sort of to give you an idea of
Dialogue: 0,0:04:57.44,0:05:01.32,Default,,0,0,0,,各种不同网络相关参数的量级\Nthe order of magnitude that we're talking about with these.
Dialogue: 0,0:05:01.32,0:05:07.32,Default,,0,0,0,,我现在会为大家展示一个分布式系统实例\NSo, I will now like to show you an example of one concrete distributed system
Dialogue: 0,0:05:07.32,0:05:09.48,Default,,0,0,0,,大家每天都会使用这个系统\Nwhich is a system that you use every day.
Dialogue: 0,0:05:09.48,0:05:10.94,Default,,0,0,0,,这个系统就是网页\NAnd that system is the web.
Dialogue: 0,0:05:10.94,0:05:16.04,Default,,0,0,0,,我们可以站在分布式系统的视角对网页展开分析\NAnd so, the web, we can now analyze through a distributed systems lens
Dialogue: 0,0:05:16.04,0:05:21.60,Default,,0,0,0,,来看看当你在网页浏览器中载入一个网站时 实际上都发生了什么事情\Nand see what actually happens when you load a website in a web browser.
Dialogue: 0,0:05:21.60,0:05:26.56,Default,,0,0,0,,具体来说 我们有两个通信实体\NAnd so, what happens there is that we have two communicating entities.
Dialogue: 0,0:05:26.56,0:05:28.68,Default,,0,0,0,,首先 你有一个客户端\NFirst of all, you've got the client,
Dialogue: 0,0:05:28.68,0:05:32.48,Default,,0,0,0,,客户端就是你电脑或手机上的网页浏览器\Nwhich is the web browser running on your computer or your phone.
Dialogue: 0,0:05:32.48,0:05:37.38,Default,,0,0,0,,你有一个坐落在某个数据中心内的服务器\NAnd you've got the server, which is usually located somewhere in a data center.
Dialogue: 0,0:05:37.38,0:05:42.20,Default,,0,0,0,,当客户端希望展示一个网页页面时 客户端要构造一个请求\NAnd when the client wants to display a web page, it makes a request.
Dialogue: 0,0:05:42.20,0:05:45.68,Default,,0,0,0,,请求就是要通过网络发送的一条消息\NSo, a request is just a message that gets sent over the network,
Dialogue: 0,0:05:45.68,0:05:49.36,Default,,0,0,0,,这条消息要发送给特定的服务器\Nand that request is targeted at a particular server.
Dialogue: 0,0:05:49.36,0:05:53.56,Default,,0,0,0,,请求包含客户端尝试载入的URL路径\NAnd it contains the path of the URL that you're trying to load.
Dialogue: 0,0:05:53.56,0:05:59.24,Default,,0,0,0,,大家可以注意到 URL以HTTP开头 也可能以HTTPS开头 随后是两个斜杠\NSo, you notice, in the URL, you have the HTTP, maybe S, double slash,
Dialogue: 0,0:05:59.24,0:06:00.64,Default,,0,0,0,,接下来是服务器名称\Nthen comes the server name,
Dialogue: 0,0:06:00.64,0:06:04.46,Default,,0,0,0,,然后是一个斜杠 后面跟着的是路径\Nand then from the single slash onwards is the path.
Dialogue: 0,0:06:04.46,0:06:09.28,Default,,0,0,0,,斜杠前面是服务器名称\NAnd so, the bit before that first slash is the server name,
Dialogue: 0,0:06:09.28,0:06:12.88,Default,,0,0,0,,服务器名称就是客户端消息要发送到的目的地\Nwhich is going to be the destination where we sent the message to.
Dialogue: 0,0:06:12.88,0:06:15.60,Default,,0,0,0,,斜杠后面就是路径\NAnd what follows after that is the path,
Dialogue: 0,0:06:15.60,0:06:20.08,Default,,0,0,0,,路径也会被包含在消息中 一起发送到目的地\Nwhich is then contained within the message that we send to that destination.
Dialogue: 0,0:06:20.08,0:06:22.02,Default,,0,0,0,,这就是请求消息\NAnd so, that's message.
Dialogue: 0,0:06:22.40,0:06:27.10,Default,,0,0,0,,如果是载入一个网页页面 此请求就被称为GET请求 请求中包含路径\NIf you want to load a web page, we call that a GET request. And it contains the path.
Dialogue: 0,0:06:27.10,0:06:31.20,Default,,0,0,0,,服务端会响应请求 将网页页面返回给客户端\NAnd the server then will respond with the contents of that web page.
Dialogue: 0,0:06:31.20,0:06:35.62,Default,,0,0,0,,如果是一个普通的静态网页 则服务端返回的就是一个html页面\NAnd so, that is probably an html page if it's just a plain web page.
Dialogue: 0,0:06:35.62,0:06:37.14,Default,,0,0,0,,但返回的内容也可以是一个图像\NBut it could also be an image,
Dialogue: 0,0:06:37.14,0:06:38.70,Default,,0,0,0,,可以是一个视频文件\Nor it could be a video file,
Dialogue: 0,0:06:38.70,0:06:42.32,Default,,0,0,0,,可以是一个PDF文档 也可以是其他任何内容\Nor it could be a PDF document, or anything like that.
Dialogue: 0,0:06:42.32,0:06:47.68,Default,,0,0,0,,因此 我们这里给出的是一个包含两条消息的简单协议\NAnd so, what we have here is a simple protocol consisting of two messages,
Dialogue: 0,0:06:47.68,0:06:49.80,Default,,0,0,0,,一条消息是客户端发送给服务端的请求\Na request from the client to the server,
Dialogue: 0,0:06:49.80,0:06:52.88,Default,,0,0,0,,一条消息是服务端反馈给客户端的响应\Nand a response from the server back to the client
Dialogue: 0,0:06:52.88,0:06:55.34,Default,,0,0,0,,响应包含客户端请求的数据\Ncontaining the data that the client asked for.
Dialogue: 0,0:06:55.34,0:06:59.74,Default,,0,0,0,,我想做一个简单的演示 给大家展示一下这个协议具体是什么样子的\NSo, I'd like to now give you a little demo of what this actually looks like.
Dialogue: 0,0:06:59.74,0:07:02.94,Default,,0,0,0,,大家肯定知道网页浏览器是什么样子的\NAnd so, of course you know what a web browser looks like.
Dialogue: 0,0:07:02.94,0:07:06.40,Default,,0,0,0,,我这里载入的是课程网站 我可以上下滑动\NHere, I've loaded the course web page, and I can scroll up and down.
Dialogue: 0,0:07:06.40,0:07:09.52,Default,,0,0,0,,现在 我可以用一个网络捕获工具\NAnd I can now record the messages
Dialogue: 0,0:07:09.52,0:07:14.24,Default,,0,0,0,,记录网络中发送和接收的消息\Nthat are sent and received over the network using a network capture tool.
Dialogue: 0,0:07:14.24,0:07:16.92,Default,,0,0,0,,我们这里要用的工具叫Charles\NSo here, I'm going to use a tool that's called Charles.
Dialogue: 0,0:07:17.26,0:07:20.76,Default,,0,0,0,,我们把Charles设置为记录模式 工具就会开始记录了\NAnd I'm going to put it into recording mode. It's going to start recording.
Dialogue: 0,0:07:20.76,0:07:24.46,Default,,0,0,0,,我们回到网页浏览器 点击刷新 重新载入网站\NAnd then, I'm going to go here and just hit reload on the website.
Dialogue: 0,0:07:24.46,0:07:27.08,Default,,0,0,0,,好了 我们已经重新载入网页了\NAnd so, here we go, we've loaded the page again.
Dialogue: 0,0:07:27.08,0:07:28.62,Default,,0,0,0,,现在 回到Charles\NAnd now, go back to Charles.
Dialogue: 0,0:07:28.62,0:07:33.26,Default,,0,0,0,,可以看到 工具累积了一系列请求信息\NAnd we can see that we've now accumulated a whole bunch of requests.
Dialogue: 0,0:07:33.26,0:07:36.44,Default,,0,0,0,,这里的每一行都是一个请求消息\NSo, each line here is one request message
Dialogue: 0,0:07:36.44,0:07:39.62,Default,,0,0,0,,都是网页浏览器向服务端发送的请求\Nthat was made from the web browser to the server.
Dialogue: 0,0:07:39.62,0:07:44.58,Default,,0,0,0,,工具记录的内容还包含服务端返回给客户端的响应\NAnd it also contains the response that was sent back from the server to the client.
Dialogue: 0,0:07:44.58,0:07:46.48,Default,,0,0,0,,举例来说 我们这里可以看到\NAnd so, here we can see, for example,
Dialogue: 0,0:07:46.48,0:07:53.04,Default,,0,0,0,,第一个请求就是请求网页浏览器中输入的路径\Nthe first request here was for this path here, which is the path on the web browser.
Dialogue: 0,0:07:53.04,0:07:56.12,Default,,0,0,0,,大家可以看到 URL与这里记录的路径是相同的\NYou can see here in the URL that matches up with this path.
Dialogue: 0,0:07:56.12,0:08:00.12,Default,,0,0,0,,大家可以看到 这是一个载入特定网站的GET请求\NYou can see it's a GET request to load a particular website.
Dialogue: 0,0:08:00.86,0:08:02.26,Default,,0,0,0,,大家可以看到一系列信息\NYou can see a bunch of information,
Dialogue: 0,0:08:02.26,0:08:04.48,Default,,0,0,0,,例如这里的用户代理（User Agent）\Nlike the User Agent here, for example,
Dialogue: 0,0:08:04.48,0:08:07.98,Default,,0,0,0,,这实际上是我所使用网页浏览器的版本\Nis essentially the version of the web browser that I'm using.
Dialogue: 0,0:08:07.98,0:08:10.72,Default,,0,0,0,,标识了客户端的软件版本\NSo, it identifies the client software version.
Dialogue: 0,0:08:10.72,0:08:16.44,Default,,0,0,0,,这里的Accept报头指明了网页浏览器可以解读的文件类型\NHere, this Accept header, this indicates what file types the web browser understands.
Dialogue: 0,0:08:16.44,0:08:21.48,Default,,0,0,0,,我的网页浏览器可以解读html文件、各种图像格式、还有其他很多文件\NSo, it understands html and various other image formats and stuff like that.
Dialogue: 0,0:08:21.48,0:08:23.58,Default,,0,0,0,,这里还包含了一系列信息\NThen, there's a whole bunch of other stuff here,
Dialogue: 0,0:08:23.58,0:08:29.14,Default,,0,0,0,,例如网页浏览器可以接受的压缩格式 我所使用的语言 等等\Nlike what sort of compression it accepts, what sort of language I speak, and so on.
Dialogue: 0,0:08:29.14,0:08:31.32,Default,,0,0,0,,报头包含了很多的信息\NSo, all sorts of stuff here.
Dialogue: 0,0:08:31.32,0:08:34.54,Default,,0,0,0,,大家可以在这个面板中看到请求消息\NAnd what you see in this panel here is the request message.
Dialogue: 0,0:08:34.54,0:08:37.50,Default,,0,0,0,,在下方的面板中 大家可以看到响应消息\NAnd then, in the lower panel here, you see the response message.
Dialogue: 0,0:08:37.50,0:08:39.82,Default,,0,0,0,,这里是上方请求消息所对应的响应消息\NAnd here, the response message to this.
Dialogue: 0,0:08:39.82,0:08:41.52,Default,,0,0,0,,这里包含了一些html信息\NHere contains some html.
Dialogue: 0,0:08:42.36,0:08:45.12,Default,,0,0,0,,大家可以看到整个html页面的内容\NAnd you can see like the whole content of the html page.
Dialogue: 0,0:08:45.12,0:08:47.22,Default,,0,0,0,,我可以滚动浏览内容 这些信息有点无聊\NI can scroll down. It's a bit boring.
Dialogue: 0,0:08:47.22,0:08:50.20,Default,,0,0,0,,我们也可以看看其他的请求\NOK, and we can have a look at other requests here as well.
Dialogue: 0,0:08:50.20,0:08:57.22,Default,,0,0,0,,大家可以看这个请求 这是一个下载的图片\NSo, you can see this here. It's a picture that it's downloading, and etc.
Dialogue: 0,0:08:57.22,0:09:00.32,Default,,0,0,0,,这是一些css信息 一些样式文件 等等\NHere's some css, some style files, and so on.
Dialogue: 0,0:09:00.32,0:09:02.58,Default,,0,0,0,,这里我们展示的是\NSo, what we have is
Dialogue: 0,0:09:02.58,0:09:10.08,Default,,0,0,0,,一个从概念层面看非常简单的请求应答消息协议\Nthis very simple request response messaging protocol at the conceptual level.
Dialogue: 0,0:09:10.08,0:09:13.68,Default,,0,0,0,,从概念层面看 从分布式系统层面看\NSo, at the conceptual level here, at the distributed systems level,
Dialogue: 0,0:09:13.68,0:09:16.80,Default,,0,0,0,,这个协议只是发送了一条消息 得到了一条响应\Nwe're just talking about one message, one response.
Dialogue: 0,0:09:16.80,0:09:20.50,Default,,0,0,0,,物理网络层发生的事情\NNow, what happens at the underlying physical network level
Dialogue: 0,0:09:20.50,0:09:22.36,Default,,0,0,0,,相对会更加复杂一些\Nis a little bit more complicated.
Dialogue: 0,0:09:22.36,0:09:27.06,Default,,0,0,0,,我们可以通过使用另一个网络捕获工具\NAnd so, we can look at what happens at the physical level
Dialogue: 0,0:09:27.06,0:09:29.20,Default,,0,0,0,,看看物理层发生了什么事情\Nby using a different network capture tool.
Dialogue: 0,0:09:29.20,0:09:32.82,Default,,0,0,0,,我们这里用到的工具叫Wireshark\NSo, I'm going to use a tool here that's called Wireshark.
Dialogue: 0,0:09:32.82,0:09:38.42,Default,,0,0,0,,这个工具捕获的不是HTTP层的信息\NAnd this will actually capture rather than capturing at the HTTP level,
Dialogue: 0,0:09:38.42,0:09:39.98,Default,,0,0,0,,捕获的不是请求和响应\Ncapturing the request and response,
Dialogue: 0,0:09:39.98,0:09:42.66,Default,,0,0,0,,这个工具捕获的是一个个独立的网络数据包\Nit's going to capture the individual network packets.
Dialogue: 0,0:09:42.66,0:09:44.00,Default,,0,0,0,,我们来看看具体发生了什么\NSo, let's see what happens here.
Dialogue: 0,0:09:44.00,0:09:47.96,Default,,0,0,0,,我们让工具开始记录 随后回到网页浏览器 重新载入网页\NI'll start recording, and then I'll go back to the web browser, and I'll reload again,
Dialogue: 0,0:09:48.66,0:09:51.14,Default,,0,0,0,,我们回到工具页面 点击停止\Nand go back here, and hit stop.
Dialogue: 0,0:09:51.14,0:09:56.18,Default,,0,0,0,,我们这里可以看到 天哪 物理层有好多活动\NAnd here, we now see, oh, a lot of activity again.
Dialogue: 0,0:09:56.18,0:10:02.38,Default,,0,0,0,,在Wireshark中 表格内的每一行都是一个单独的网络数据包\NAnd so, here in Wireshark, every line in this table is a single network packet.
Dialogue: 0,0:10:02.38,0:10:04.76,Default,,0,0,0,,大家在这里可以看到\NAnd so, here you can see that
Dialogue: 0,0:10:05.02,0:10:08.32,Default,,0,0,0,,这是从一个IP地址发送到另一个IP地址的一个数据包\Nthere's a packet sent from one IP address to another IP address.
Dialogue: 0,0:10:08.32,0:10:10.72,Default,,0,0,0,,这里的192.168\NSo, the 192.168,
Dialogue: 0,0:10:10.72,0:10:16.38,Default,,0,0,0,,是我记录数据包所用笔记本的IP地址\Nthat is the IP address of my laptop on which I'm recording this right now.
Dialogue: 0,0:10:16.38,0:10:22.84,Default,,0,0,0,,这个128.232就是服务端 这就是服务端的名称\NThis 128.232 etc., that is the server, that is the name of the web server
Dialogue: 0,0:10:23.72,0:10:27.32,Default,,0,0,0,,是我正在连接的计算机实验室网站的名称\Nthat of the computer lab website that I'm connecting to.
Dialogue: 0,0:10:27.32,0:10:30.94,Default,,0,0,0,,大家可以看到 连接用的是TCP协议\NAnd so, here you can see it's connecting using the TCP protocol.
Dialogue: 0,0:10:30.94,0:10:32.16,Default,,0,0,0,,不同过于担心\NDon't worry too much about that.
Dialogue: 0,0:10:32.16,0:10:35.46,Default,,0,0,0,,大家会在计算机网络课程中学到很多有关TCP协议的知识\NYou'll learn a lot more about TCP in the computer networking course.
Dialogue: 0,0:10:36.28,0:10:39.76,Default,,0,0,0,,大家可以看到 TCP协议下面包含了好多往来的数据包\NBut the bottom line of this is there's a lot of back and forth, you can see.
Dialogue: 0,0:10:39.76,0:10:45.28,Default,,0,0,0,,这里出现了加密过程 因为这是一个HTTPS连接\NAnd then, here, there's some encryption that happens because it's an HTTPS connection.
Dialogue: 0,0:10:45.28,0:10:50.16,Default,,0,0,0,,大家可以看到 这里是我正在连接的网站名称\NAnd you can see that here's the name of the website that I'm connecting to,
Dialogue: 0,0:10:50.74,0:10:52.90,Default,,0,0,0,,这是我正在连接的服务器名称 等等\Nthe server name that I'm connecting to, and so on.
Dialogue: 0,0:10:52.90,0:10:57.84,Default,,0,0,0,,在网络的物理层发生的事情是\NAnd so, on the physical level, what's happening here on the network is that
Dialogue: 0,0:10:57.84,0:11:01.44,Default,,0,0,0,,所有这些数据包在相互发送和接收\Nwe have all of these network packets going back and forth.
Dialogue: 0,0:11:01.44,0:11:03.76,Default,,0,0,0,,有这么多数据包的原因是\NAnd the reason that we have lots of packets is that
Dialogue: 0,0:11:03.76,0:11:05.68,Default,,0,0,0,,每个数据包有一个大小上限\Nthere's a maximum size of each packet.
Dialogue: 0,0:11:05.68,0:11:10.80,Default,,0,0,0,,大家可以在这一列看到每个数据包的字节长度\NAnd you can see here in this column, it has the size the length in bytes of each packet.
Dialogue: 0,0:11:10.80,0:11:14.76,Default,,0,0,0,,大家可以看到 数据包最大也就到1500字节左右\NAnd you can see that the length only goes up to about 1500 bytes.
Dialogue: 0,0:11:15.30,0:11:17.38,Default,,0,0,0,,这是另一个1500字节左右的数据包\NHere another with 1500 bytes.
Dialogue: 0,0:11:17.38,0:11:19.74,Default,,0,0,0,,但没有任何数据包的大小超过1500字节\NBut there are none that are bigger than that.
Dialogue: 0,0:11:19.74,0:11:24.16,Default,,0,0,0,,这是因为网络数据包有一个大小上限\NAnd that's because networks have this maximum size of a packet.
Dialogue: 0,0:11:24.16,0:11:28.20,Default,,0,0,0,,如果你想发送一条消息 消息长度超过了单一数据包大小的上界\NAnd so, if you want to send a message that is greater than the size of a single packet,
Dialogue: 0,0:11:28.20,0:11:30.98,Default,,0,0,0,,你就必须把这条消息拆分为多个数据包\Nyou have to split it up into multiple packets.
Dialogue: 0,0:11:30.98,0:11:34.16,Default,,0,0,0,,这就是TCP协议所完成的工作\NAnd this is exactly what the TCP protocol does.
Dialogue: 0,0:11:34.16,0:11:38.64,Default,,0,0,0,,HTTP协议在TCP协议之上运行\NSo, the HTTP runs on top of TCP.
Dialogue: 0,0:11:38.64,0:11:44.38,Default,,0,0,0,,HTTP使用了请求/响应消息的范式\NSo, HTTP has this request message response message paradigm,
Dialogue: 0,0:11:44.38,0:11:47.54,Default,,0,0,0,,但一条消息的长度可能会大于单个网络数据包的长度\Nbut a request might be bigger than a single network packet,
Dialogue: 0,0:11:47.54,0:11:51.04,Default,,0,0,0,,一条响应的长度很可能会大于单个网络数据包的长度\Nand a response is quite likely bigger than a single network packet as well.
Dialogue: 0,0:11:51.04,0:11:54.40,Default,,0,0,0,,HTTP下方使用了TCP\NSo, then, HTTP uses TCP underneath,
Dialogue: 0,0:11:54.40,0:11:59.84,Default,,0,0,0,,TCP将这些长消息拆分为小的网络数据包\Nand TCP breaks down these big messages into small network packets
Dialogue: 0,0:11:59.84,0:12:02.30,Default,,0,0,0,,每个网络数据包都变得足够小 使物理层可以传递这些数据包\Nthat are small enough that the network can deliver them.
Dialogue: 0,0:12:02.30,0:12:03.88,Default,,0,0,0,,在接收方侧\NAnd then, on the recipient side,
Dialogue: 0,0:12:03.88,0:12:06.48,Default,,0,0,0,,TCP把所有的网络数据包放在一起\NTCP puts all of the network packets back together again
Dialogue: 0,0:12:06.48,0:12:09.86,Default,,0,0,0,,为上层组合出一个长字节序列\Nto give us one large chunk of bytes.
Dialogue: 0,0:12:09.86,0:12:16.42,Default,,0,0,0,,在分布式系统中 大家特别要记住的一点是\NAnd so, this is now like an important thing to keep in mind in distributed systems
Dialogue: 0,0:12:16.42,0:12:19.84,Default,,0,0,0,,当讨论消息的发送和接收时\Nwhen we're talking about messages being sent and received,
Dialogue: 0,0:12:19.84,0:12:22.20,Default,,0,0,0,,我们讨论的不是单个数据包的发送和接收\Nwe're not talking about individual packets,
Dialogue: 0,0:12:22.20,0:12:26.14,Default,,0,0,0,,因为消息大小可能比单一网络数据包的大小要大\Nbecause a message may well be bigger than a single network packet.
Dialogue: 0,0:12:26.14,0:12:30.16,Default,,0,0,0,,因此 需要把长消息拆分为小的网络数据包\NAnd so, that message then has to be broken down into small network packets.
Dialogue: 0,0:12:30.16,0:12:35.72,Default,,0,0,0,,因此 两个节点间相互发送的消息\NSo, the message is really a higher-level conceptual object
Dialogue: 0,0:12:35.72,0:12:40.10,Default,,0,0,0,,是一个高层级的抽象概念\Nthat gets sent back and forth between two nodes.
Dialogue: 0,0:12:40.10,0:12:44.76,Default,,0,0,0,,如何在数据包层拆分消息\NAnd how exactly this gets broken down on the packet level,
Dialogue: 0,0:12:44.76,0:12:47.52,Default,,0,0,0,,是我们留给计算机网络相关人士的问题\Nthat's something that we leave to the computer networking people.
Dialogue: 0,0:12:47.52,0:12:50.00,Default,,0,0,0,,在分布式系统层面\NSo, for distributed systems point of view,
Dialogue: 0,0:12:50.00,0:12:52.32,Default,,0,0,0,,我们可以直接做出假设\Nwe can just assume that we have this mechanism
Dialogue: 0,0:12:52.32,0:12:55.84,Default,,0,0,0,,我们已经有了一个发送请求和接收响应的机制\Nthrough which we can send these requests and these responses here.
Dialogue: 0,0:12:55.84,0:12:58.60,Default,,0,0,0,,我们不需要特别关注\NAnd we don't care too much about the details of
Dialogue: 0,0:12:58.60,0:13:02.26,Default,,0,0,0,,物理层面如何描述网络数据包的细节问题\Nhow this is actually physically represented in terms of network packets.
Dialogue: 0,0:13:02.26,0:13:05.84,Default,,0,0,0,,我们只假设我们已经有了一个通信机制\NWe just assume that we have this communication mechanism.
